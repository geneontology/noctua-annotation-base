<div fxLayout="column" fxLayoutAlign="start stretch" class="noc-drawer h-100-p">
  <div class="noc-drawer-header" fxLayout="column" fxLayoutAlign="start stretch">
    <div class="noc-header w-100-p" fxLayout="row" fxLayoutAlign="start center">
      <span class="noc-drawer-header-title">
        Find and Replace</span>
      <span fxFlex></span>
      <button mat-stroked-button (click)="close()" class="noc-rounded-button noc-sm" color="primary"
        aria-label="Close dialog">
        <mat-icon>close</mat-icon> CLOSE
      </button>
    </div>
    <noc-review-form class="pt-4 px-12"></noc-review-form>
  </div>
  <div class="noc-drawer-body" noctuaPerfectScrollbar>
    <div *ngIf="!noctuaUserService.user" class="noc-draw-body-disabled" fxLayoutAlign="center center">
      Log in to Continue
    </div>
    <div class="noc-summary-bar" fxLayout="row" fxLayoutAlign="start center">
      <span class="noc-header-title">
        Review and submit changes</span>
    </div>
    <div class="noc-stats-results" fxLayout="column" fxLayoutAlign="start center">
      <div class="noc-stat-summary">
        <span class="noc-number">
          {{summary?.stats.totalChanges }}
        </span>
        changes on this model
      </div>
      <table fxFlex="1 1 auto" mat-table class="noc-summary-table" [dataSource]="stats">
        <ng-container matColumnDef="category">
          <th mat-header-cell *matHeaderCellDef fxFlex="250px" fxLayout="row" fxLayoutAlign="start center">
            Category
          </th>
          <td mat-cell *matCellDef="let stat" fxFlex="250px" class="noc-title" fxLayout="row"
            fxLayoutAlign="start center">
            {{stat.category }}
          </td>
        </ng-container>
        <ng-container matColumnDef="count">
          <th mat-header-cell *matHeaderCellDef fxFlex="" fxLayout="row" fxLayoutAlign="start center">Changes</th>
          <td mat-cell *matCellDef="let stat" fxFlex="" fxLayout="row" fxLayoutAlign="start center">
            {{stat.count}}
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row (click)="$event.stopPropagation()" *matRowDef="let stat; columns: displayedColumns;">
        </tr>
      </table>
      <!--   <div fxLayout="row" fxLayoutAlign="start center">
          <div fxFlex="200px">
            Summary
          </div>
          <div fxFlex>
            Details
          </div>
        </div>
        <div fxLayout="row" fxLayoutAlign="start center">
          <div fxFlex="200px">
            Terms
          </div>
          <div fxFlex>
            <div *ngFor="let modelSummary of summary">
              <div *ngFor="let term of modelSummary.changes?.terms">
                <div *ngFor="let termHistory of term.termHistory">
                  {{term.label}} -> {{termHistory.label}}
                </div>
              </div>
            </div>
          </div>
        </div> -->
    </div>
  </div>
  <div fxLayout="row" fxLayoutAlign="start center" class="noc-drawer-footer noc-submit-row">
    <ng-container *ngIf="noctuaSearchMenuService.selectedMiddlePanel === MiddlePanel.cams">
      <button (click)="clear()" type="button" mat-raised-button>Clear List</button>
    </ng-container>
    <ng-container *ngIf="noctuaSearchMenuService.selectedMiddlePanel === MiddlePanel.camsReview">
      <button (click)="clear()" type="button" mat-raised-button>Clear List</button>
      <span fxFlex=""></span>
      <button (click)='resetCams()' type="button" mat-raised-button color="" class="mr-8">Undo Changes</button>
      <button (click)="reviewChanges()" type="submit" class="" mat-raised-button color="primary">
        Review Changes
      </button>
    </ng-container>
    <ng-container *ngIf="noctuaSearchMenuService.selectedMiddlePanel === MiddlePanel.reviewChanges">
      <span fxFlex=""></span>
      <button (click)='backToReview()' type="button" mat-raised-button color="" class="mr-8">Back</button>
      <button (click)="submitChanges()" type="submit" class="" mat-raised-button color="primary">
        Submit
      </button>
    </ng-container>
  </div>
</div>